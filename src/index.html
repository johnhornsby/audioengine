<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>



</head>

<body>
<p>Music
<input data="music" type="button" value="Create" />
<input data="music" type="button" value="Play" />
<input data="music" type="button" value="Pause" />
<input data="music" type="button" value="Stop" />
</p>
<p>Angry
<input data="angry" type="button" value="Create" />
<input data="angry" type="button" value="Play" />
<input data="angry" type="button" value="Pause" />
<input data="angry" type="button" value="Stop" />
</p>
<p>Ambient
<input data="ambient" type="button" value="Create" />
<input data="ambient" type="button" value="Play" />
<input data="ambient" type="button" value="Pause" />
<input data="ambient" type="button" value="Stop" />
</p>
<p>Warp
<input data="warp" type="button" value="Create" />
<input data="warp" type="button" value="Play" />
<input data="warp" type="button" value="Pause" />
<input data="warp" type="button" value="Stop" />
</p>
<input data="" type="button" value="Stop All" />
<p>Volume
<select id="volume" data="volume">
	<option value="0">0</option>
    <option value="0.25">0.25</option>
    <option value="0.5">0.5</option>
    <option value="0.75">0.75</option>
    <option value="1" selected="selected">1</option>
</select>
</p>


<div id="audioEngineContainer"></div>
<script src="js/Animator.js" type="text/javascript"></script>
<script src="js/AudioPreloadItem.js" type="text/javascript"></script>
<script src="js/AudioInstanceItem.js" type="text/javascript"></script>
<script src="js/AudioEngine.js" type="text/javascript"></script>
<script src="js/Utilities.js" type="text/javascript"></script>
<script src="js/lib/jquery-1.4.4.min.js" type="text/javascript"></script>
<script>
function sendToFlash(){
	alert('aosjd');
};
window.onload = function(){
	
	var preloadArray = [{
		label:"music",	
		mp3:"sounds/howdo.mp3",
		ogv:"sounds/howdo.ogv"
	},
	{
		label:"angry",	
		mp3:"sounds/angry.mp3",
		ogv:"sounds/angry.ogv"
	},
	{
		label:"warp",	
		mp3:"sounds/warp.mp3",
		ogv:"sounds/warp.ogv"
	},
	{
		label:"ambient",	
		mp3:"sounds/ambient.mp3",
		ogv:"sounds/ambient.ogv"
	}];
	
	
	
	
	var audioEngine = new AudioEngine({
		element:document.getElementById("audioEngineContainer"),
		swf:'flash/AudioEngineFlashPlayer.swf',
		namespace:"window.APP.audioEngine",
		onReady:function(){
			this.preload(preloadArray);
		},
		onPreloadComplete:function(){
			
		}
	});
	
	
	
	
	window.APP = window.APP || {};
	window.APP.audioEngine = audioEngine;
	
	
	$("input").bind('click',function(){
		var label = $(this).attr('data');
		var action = this.value;
		switch(action){
			case "Create":
				var autoDestroy = false;
				var autoRewind = true;
				var autoStop = false;
				audioEngine.create(label,autoDestroy,autoRewind,autoStop);
				break;
			case "Play":
				audioEngine.play(label);
				break;
			case "Pause":
				audioEngine.pause(label);
				break;
			case "Stop":
				audioEngine.stop(label);
				break;
			case "Stop All":
				audioEngine.stopAll();
				break;
		}
	});
	
	$("#volume").bind('change',function(){
		
		console.log("change to:"+this.value);
		audioEngine.setVolume(this.value);
	});
	
};
</script>
</body>
</html>
